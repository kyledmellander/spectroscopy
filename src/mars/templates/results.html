{% extends "layouts/base.html" %}

{% block content %}
    {% if results %}
      <div class = "container">
	       <div class="form-inline">
           <!--
           <form method="POST" action="/export/" name="exportform">
             {% csrf_token %}
             <button type="submit" name="export" class="btn btn-success">Export</button><br>
             <br>
           </form> -->

           <form method="POST" name="resultsform">
             {% csrf_token %}
             <button type="submit" name="graphForm" formaction="/graph/" class="btn btn-success">Graph</button>
             <button type="submit" name="export" formaction="/export/" class="btn btn-success">Export</button>
             <button type="submit" name="meta" formaction="/meta/" class="btn btn-success">View metadata</button><br>
             <br>
              <table class="table table-hover">
              <thead>
               <tr>
                 <th>Select</th>
                 <th>ID</th>
                 <th>Name</th>
	               <th>Class</th>
                 <th>Origin</th>
                 <th>Grain Size</th>
                 <th>Reflectance Range</th>
               </tr>
               </thead>
               <tbody>
               <tr>
                {% for result in results %}
                  <td> <input type="checkbox" name="selection" id="option{{ result.data_id }}" value={{result.data_id}} style="height:15px; width:15px;"> </td>
                  <td><label for="option{{ result.data_id }}"> {{ result.data_id }}</label></td>
                  <td><label for="option{{ result.data_id }}"> {{ result.name }} </label></td>
                  <td><label for="option{{ result.data_id }}"> {{ result.sample_class }} </label></td>
                  <td><label for="option{{ result.data_id }}"> {{ result.origin }} </label></td>
                  <td><label for="option{{ result.data_id }}">{{ result.grain_size }} </label></td>
                  <td><label for="option{{ result.data_id }}"> {{ result.refl_range }} </label></td>
                  <tr>
                {% endfor %}
              </tr>
              </tbody>
            </table>
            <button type="submit" name="graphForm" formaction="/graph/" class="btn btn-success">Graph</button>
            <button type="submit" name="export" formaction="/export/" class="btn btn-success">Export</button>
            <button type="submit" name="meta" formaction="/meta/" class="btn btn-success">View metadata</button><br>
            <br>
            <br>
            <br>
            <p>
            <br>
            </p>
         </form>
       </div>
      </div>
    {% else %}
      <h3 class='error'>Your search yielded no results. Please try again.</h3>
      <!-- <form action="/search/" method="get">
        <input type="text" id="searchBox" placeholder="Enter Mineral Name..." name="mineral", value="{{ query }}"/>
        <input type="button" value="Search"/><br>
        <br>
      </form> -->
    {% endif %}
{% endblock %}
