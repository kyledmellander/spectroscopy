{% extends "layouts/base.html" %}

{% block content %}
    {% if results %}
      <div class = "container">
	       <div class="form-inline">
           <!--
           <form method="POST" action="/export/" name="exportform">
             {% csrf_token %}
             <button type="submit" name="export" class="btn btn-success">Export</button><br>
             <br>
           </form> -->

           <form method="POST" name="resultsform">
             {% csrf_token %}
             <button type="submit" name="graphForm" formaction="/graph/" class="btn btn-success">Graph</button>
             <button type="submit" name="export" formaction="/export/" class="btn btn-success">Export</button>
             <button type="submit" name="meta" formaction="/meta/" class="btn btn-success">View Metadata</button><br>
             <br>
             <input type="checkbox" name="selection" onClick="toggle(this)" style="height:15px; width:15px;"><b> Select All</b>
              <div class="table-responsive">
              <table class="table table-striped table-hover table-condensed">
                <thead>
                  <tr>
                    <th width="5%">Select</th>
                    <th width="10%">ID</th>
                    <th width="15%">Name</th>
	                  <th width="15%">Class</th>
                    <th width="25%">Origin</th>
                    <th width="15%">Grain Size</th>
                    <th width="15%">Reflectance Range</th>
                  </tr>
                </thead>
              </table>
              <div class="bodycontainer scrollable">
              <table class="table table-hover table-striped table-condensed table-scrollable">
                <tbody>
                  {% for result in results %}
                    <tr>
                      <td width="5%"> <input type="checkbox" name="selection" id="option{{ result.data_id }}" value={{result.data_id}} style="height:15px; width:15px;"> </td>
                      <td width="10%"><label for="option{{ result.data_id }}"> {{ result.data_id }}</label></td>
                      <td width="15%"><label for="option{{ result.data_id }}"> {{ result.name }} </label></td>
                      <td width="15%"><label for="option{{ result.data_id }}"> {{ result.sample_class }} </label></td>
                      <td width="25%"><label for="option{{ result.data_id }}"> {{ result.origin }} </label></td>
                      <td width="15%"><label for="option{{ result.data_id }}">{{ result.grain_size }} </label></td>
                      <td width="15%"><label for="option{{ result.data_id }}"> {{ result.refl_range }} </label></td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
              </div>
            </div>
            <button type="submit" name="graphForm" formaction="/graph/" class="btn btn-success">Graph</button>
            <button type="submit" name="export" formaction="/export/" class="btn btn-success">Export</button>
            <button type="submit" name="meta" formaction="/meta/" class="btn btn-success">View metadata</button><br>
            <br>
            <br>
            <br>
            <p>
            <br>
            </p>
         </form>
       </div>
      </div>
    {% else %}
      <div id="meta">
        <h3><b>Your search yielded no results. Please try again.</b></h3>
      </div>
      <!-- <form action="/search/" method="get">
        <input type="text" id="searchBox" placeholder="Enter Mineral Name..." name="mineral", value="{{ query }}"/>
        <input type="button" value="Search"/><br>
        <br>
      </form> -->
    {% endif %}
{% endblock %}
