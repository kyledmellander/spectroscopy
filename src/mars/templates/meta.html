{% extends "layouts/base.html" %}

{% block content %}

  <style>
  p {
    margin: 0em;
  }
  table td {
    border-top: none !important;
  }
  </style>
  {% if metaResults %}
    <div id="meta2">
      <div class = "form-inline">
        <form method="POST" name="resultsform">
          {% csrf_token %}
          <div id="meta">
            <button type="submit" name="graphForm" formaction="/graph/" class="btn btn-success">Graph</button>
            <button type="submit" name="export" formaction="/export/" class="btn btn-success">Export</button>
            <br>
            <br>
            <input type="checkbox" name="selection" onClick="toggle(this)" style="height:15px; width:15px;"><b> Select All</b>
          </div> 
          <!---<table class="table table-hover"> -->
              {% for result in metaResults %}
                <table class="table table-hover">
                <tr>
                <td><input type="checkbox" name="selection" id="option{{ result.data_id }}" value={{result.data_id}}></td>
               <td> <p><b> Data ID:</b>            {{ result.data_id }} </p>
                <p><b> Sample ID:</b>          {{ result.sample_id }} </p>
                <p><b> Mineral name:</b>       {{ result.name }} </p>
                <p><b> Mineral class:</b>      {{ result.sample_class }} </p>
                <p><b> Mineral type:</b>       {{ result.sample_type }} </p>
                <p><b>Formula:</b>            {{ result.formula }} </p>
                <p><b> Description:</b>        {{ result.sample_desc }} </p>
                <p><b> Database of origin:</b> {{ result.origin }} </p>
                <p><b> Date accessed:</b>      {{ result.date_accessed }} </p>
                <p><b> Locality:</b>           {{ result.locality }} </p>
                <p><b> Grain size:</b>         {{ result.grain_size }} </p>
                <p><b> Viewing geometry:</b>   {{ result.view_geom }} </p>
                <p><b> Resolution:</b>         {{ result.resolution }} </p>
                <p><b> Reflectance range:</b>  {{ result.refl_range }} </p>
                <p><b> Composition: </b>        {{ result.composition }} </p>
                <p><b> Reflectance: </b></p>
                <div id="scroll" style="overflow-y:scroll; height:250px; width:500px;">
                  <p>     {{ reflectancedict|get_reflectance:result.data_id }} </p>
                </div>
                
                </td>
              
                <br>
                </tr>
                </table>
              {% endfor %}
          <!--</table> -->
          <br>
          <br>
        </form>
      </div>
    </div>
  {% else %}
    <div id="meta">
      <h4><b> Please select a sample to view the meta data.</b></h4>
    </div>
  {% endif %}
{% endblock %}
